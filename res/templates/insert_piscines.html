<%inherit file="template.html"/>
<%doc> début de ce qui va être le "self.body()" ...  </%doc>

<section class="home2">
    <section class="insert">
        <br><br><br><br><br>
        <div class="container">
            <h1 class="form-title">Insertion des piscines</h1>
            % if message :
            <p class="message alert alert-${type}">${message}</p>
            % endif
            <form action="insertDone" method="POST" class="needs-validation" novalidate onsubmit="return validateForm()">
                <div class="main-user-info">

                    <div class="user-input-box">
                        <label for="nom">Nom</label>
                        <input type="text" id="nom" name="nom" placeholder="Nom de la piscine">
                    </div>

                    <div class="user-input-box">
                        <label for="adresse">Adresse</label>
                        <input type="text" id="adresse" name="adresse" placeholder="Entrer adresse" required>
                    </div>

                    <div class="user-input-box">
                        <label for="bas">Nombre de bassin</label>
                        <input type="number" id="bas" name="bas" placeholder="Saisir le nombre" required min="1" max="10">
                    </div>

                    <div class="user-input-box">
                        <label for="tarif">Tarif d'entrée</label>
                        <input type="number" id="tarif" name="tarif" placeholder="Entrer le tarif" required min="0" oninvalid="('Le tarif ne peut pas être négatif.')">
                        <div class="error-label" id="tarif-error"></div>
                    </div>

                    <div class="user-input-box">
                        <label for="horairo">Horaire d'ouverture</label>
                        <input type="time" id="horairo" name="horairo" placeholder="HH:MM" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]">
                    </div>
                    
                    <div class="user-input-box">
                        <label for="horairf">Horaire de fermeture</label>
                        <input type="time" id="horairf" name="horairf" placeholder="HH:MM" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]">
                    </div>

                    <div class="form-submit-btn">
                        <input type="submit" value="Insérer">
                    </div>
                </div>
            </form>
            <h1 class="form-title">Insertion piscines via csv</h1>
            <form action="insertDone" method="post" enctype="multipart/form-data">
                <div class="form-submit-btn">
                    <input type="file" name="fichierCSV" accept=".csv">
                </div>
                <div class="form-submit-btn">
                    <input type="submit" value="Importer">
                </div>
            </form>
        </div>
    </section>
</section>
<br>



<script src="/static/js/validation2.js"></script>
<script>
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            var forms = document.getElementsByClassName('needs-validation');
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();
</script> 

<%doc> fin de ce qui va être le "self.body()" ...  </%doc>