<%inherit file="template.html"/>
<%doc> début de ce qui va être le "self.body()" ...  </%doc>

<section class="home2">
    <section class="insert">
        <br><br><br><br><br>
        <div class="container">
            <h1 class="form-title">Insertion d'avis</h1>
            % if message :
            <p class="message alert alert-${type}">${message}</p>
            % endif
            <form action="insertDone2" method="POST" class="needs-validation" novalidate onsubmit="return validateForm()">
                <div class="main-user-info">

                    <div class="user-input-box">
                        <label for="nom">Nom</label>
                        <input type="text" id="nom" name="nom" placeholder="Nom de la piscine visitée">
                    </div>

                    <div class="user-input-box">
                        <label for="jour">Jour de visite</label>
                        <input type="date" id="jour" name="jour" placeholder="Entrer jour de la visite" required>
                    </div>

                    <div class="user-input-box">
                        <label for="heure">Heure d'arrivée</label>
                        <input type="time" id="heure" name="heure" placeholder="HH:MM" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]">
                    </div>

                    <div class="user-input-box">
                        <label for="duree">Durée de la visite</label>
                        <input type="time" id="duree" name="duree" placeholder="HH:MM" required pattern="([01]?[0-9]|2[0-3]):[0-5][0-9]">
                    </div>

                    <div class="user-input-box">
                        <label for="commentaire">Commentaire</label>
                        <textarea type="" id="commentaire" name="commentaire" cols="40" rows="4" placeholder="Votre commentaire" required></textarea>
                    </div>

                    <div class="form-submit-btn">
                        <input type="submit" value="Insérer">
                    </div>
                </div>
            </form>
            <h1 class="form-title">Insertion d'avis via csv</h1>
            <form action="insertDone2" method="post" enctype="multipart/form-data">
                <div class="form-submit-btn">
                    <input type="file" name="fichierCSV" accept=".csv">
                </div>
                <div class="form-submit-btn">
                    <input type="submit" value="Importer">
                </div>
            </form>
        </div>
    </section>
    <br>

    <script src="/static/js/validation2.js"></script>
    <script>
        // Disable form submissions if there are invalid fields
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Get the forms we want to add validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();
    </script> 
<%doc> fin de ce qui va être le "self.body()" ...  </%doc>